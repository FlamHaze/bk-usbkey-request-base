<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>bk-usbkey-request</title>
	<meta name="description" content="Documentation for bk-usbkey-request">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script async src="assets/js/search.js" id="search-script"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">bk-usbkey-request</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<h1>bk-usbkey-request</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p>博雅中科Usbkey服务对应的js调用方式，主要解决跨域问题并为集成客户端提供简单可靠的调用方式</p>
				<a href="#目录" id="目录" style="color: inherit; text-decoration: none;">
					<h1>目录</h1>
				</a>
				<p><a href="#d1">安装</a></p>
				<p><a href="#d2">示例</a></p>
				<p><a href="#d3">API简介</a></p>
				<p><a href="#d4">使用技巧</a></p>
				<p><a href="#d5">其他</a></p>
				<a href="#安装" id="安装" style="color: inherit; text-decoration: none;">
					<h1><div id="d1">安装</div></h1>
				</a>
				<a href="#浏览器中使用" id="浏览器中使用" style="color: inherit; text-decoration: none;">
					<h3>浏览器中使用</h3>
				</a>
				<pre><code class="language-html"><span style="color: #800000">&lt;script</span><span style="color: #000000FF"> </span><span style="color: #FF0000">src</span><span style="color: #000000FF">=</span><span style="color: #0000FF">&quot;https://raw.githubusercontent.com/SuLinXin66/bk-usbkey-request-base/master/dist/bk-usbkey-request-base-iife-1.0.0.min.js&quot;</span><span style="color: #800000">&gt;&lt;/script&gt;</span>
</code></pre>
				<p><font color=red><strong>注: 因本库采用es6 Promise对象, 如果要兼容IE系列浏览器请引用如下js来支持Promise对象</strong></font></p>
				<pre><code class="language-html"><span style="color: #800000">&lt;script</span><span style="color: #000000FF"> </span><span style="color: #FF0000">src</span><span style="color: #000000FF">=</span><span style="color: #0000FF">&quot;https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.js&quot;</span><span style="color: #800000">&gt;&lt;/script&gt;</span>
<span style="color: #800000">&lt;script</span><span style="color: #000000FF"> </span><span style="color: #FF0000">src</span><span style="color: #000000FF">=</span><span style="color: #0000FF">&quot;https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.js&quot;</span><span style="color: #800000">&gt;&lt;/script&gt;</span><span style="color: #000000"> </span>
<span style="color: #800000">&lt;script</span><span style="color: #000000FF"> </span><span style="color: #FF0000">src</span><span style="color: #000000FF">=</span><span style="color: #0000FF">&quot;https://raw.githubusercontent.com/SuLinXin66/bk-usbkey-request-base/master/dist/bk-usbkey-request-base-iife-1.0.0.min.js&quot;</span><span style="color: #800000">&gt;&lt;/script&gt;</span>
</code></pre>
				<a href="#npm中使用" id="npm中使用" style="color: inherit; text-decoration: none;">
					<h3>npm中使用</h3>
				</a>
				<pre><code class="language-js"><span style="color: #001080">npm</span><span style="color: #000000"> </span><span style="color: #001080">install</span><span style="color: #000000"> --</span><span style="color: #001080">save</span><span style="color: #000000"> </span><span style="color: #001080">bk</span><span style="color: #000000">-</span><span style="color: #001080">usbkey</span><span style="color: #000000">-</span><span style="color: #001080">request</span><span style="color: #000000">-</span><span style="color: #001080">base</span>
</code></pre>
				<a href="#yarn中使用" id="yarn中使用" style="color: inherit; text-decoration: none;">
					<h3>yarn中使用</h3>
				</a>
				<pre><code class="language-js"><span style="color: #001080">yarn</span><span style="color: #000000"> </span><span style="color: #001080">add</span><span style="color: #000000"> </span><span style="color: #001080">bk</span><span style="color: #000000">-</span><span style="color: #001080">usbkey</span><span style="color: #000000">-</span><span style="color: #001080">request</span><span style="color: #000000">-</span><span style="color: #001080">base</span>
</code></pre>
				<a href="#示例" id="示例" style="color: inherit; text-decoration: none;">
					<h1><div id="d2">示例</div></h1>
				</a>
				<a href="#浏览器中使用示例" id="浏览器中使用示例" style="color: inherit; text-decoration: none;">
					<h2>浏览器中使用示例</h2>
				</a>
				<pre><code class="language-html"><span style="color: #800000">&lt;script</span><span style="color: #000000FF"> </span><span style="color: #FF0000">src</span><span style="color: #000000FF">=</span><span style="color: #0000FF">&quot;https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.js&quot;</span><span style="color: #800000">&gt;&lt;/script&gt;</span>
<span style="color: #800000">&lt;script</span><span style="color: #000000FF"> </span><span style="color: #FF0000">src</span><span style="color: #000000FF">=</span><span style="color: #0000FF">&quot;https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.js&quot;</span><span style="color: #800000">&gt;&lt;/script&gt;</span><span style="color: #000000"> </span>
<span style="color: #800000">&lt;script</span><span style="color: #000000FF"> </span><span style="color: #FF0000">src</span><span style="color: #000000FF">=</span><span style="color: #0000FF">&quot;https://raw.githubusercontent.com/SuLinXin66/bk-usbkey-request-base/master/dist/bk-usbkey-request-base-iife-1.0.0.min.js&quot;</span><span style="color: #800000">&gt;&lt;/script&gt;</span>
<span style="color: #800000">&lt;script&gt;</span>
<span style="color: #000000FF">    </span><span style="color: #795E26">bkUsbkeyReq</span><span style="color: #000000FF">([</span>
<span style="color: #000000FF">    {</span>
<span style="color: #000000FF">      </span><span style="color: #001080">url:</span><span style="color: #000000FF"> </span><span style="color: #A31515">&quot;https://127.0.0.1:8000/api/EPSAPP_Initialize&quot;</span><span style="color: #000000FF">,   </span>
<span style="color: #000000FF">      </span><span style="color: #001080">data:</span><span style="color: #000000FF"> {</span>
<span style="color: #000000FF">        </span><span style="color: #001080">crosFlag:</span><span style="color: #000000FF"> </span><span style="color: #098658">1</span>
<span style="color: #000000FF">      },</span>
<span style="color: #000000FF">      </span><span style="color: #001080">nameSign:</span><span style="color: #000000FF"> </span><span style="color: #A31515">&quot;test1&quot;</span><span style="color: #000000FF">,</span>
<span style="color: #000000FF">      </span><span style="color: #001080">timeOut:</span><span style="color: #000000FF"> </span><span style="color: #098658">3000</span>
<span style="color: #000000FF">    }</span>
<span style="color: #000000FF">  ]).</span><span style="color: #795E26">catch</span><span style="color: #000000FF">(</span><span style="color: #0000FF">function</span><span style="color: #000000FF"> (</span><span style="color: #001080">err</span><span style="color: #000000FF">) {</span>
<span style="color: #000000FF">    </span><span style="color: #001080">console</span><span style="color: #000000FF">.</span><span style="color: #795E26">log</span><span style="color: #000000FF">(</span><span style="color: #001080">err</span><span style="color: #000000FF">);</span>
<span style="color: #000000FF">  });</span>
<span style="color: #800000">&lt;/script&gt;</span>
</code></pre>
				<a href="#commonjs规范中使用" id="commonjs规范中使用" style="color: inherit; text-decoration: none;">
					<h2>CommonJS规范中使用</h2>
				</a>
				<pre><code class="language-javascript"><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">bkUsbkeyReq</span><span style="color: #000000"> = </span><span style="color: #795E26">require</span><span style="color: #000000">(</span><span style="color: #A31515">&#039;bk-usbkey-request-base&#039;</span><span style="color: #000000">).</span><span style="color: #001080">default</span><span style="color: #000000">;</span>
<span style="color: #795E26">bkUsbkeyReq</span><span style="color: #000000">([</span>
<span style="color: #000000">  {</span>
<span style="color: #000000">    </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;https://127.0.0.1:8000/api/EPSAPP_Initialize&quot;</span><span style="color: #000000">,   </span>
<span style="color: #000000">    </span><span style="color: #001080">data:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #001080">crosFlag:</span><span style="color: #000000"> </span><span style="color: #098658">1</span>
<span style="color: #000000">     },</span>
<span style="color: #000000">    </span><span style="color: #001080">nameSign:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;test1&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">timeOut:</span><span style="color: #000000"> </span><span style="color: #098658">3000</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">]).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #001080">data</span><span style="color: #0000FF">=&gt;</span><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">data</span><span style="color: #000000">);</span>
<span style="color: #000000">}).</span><span style="color: #795E26">catch</span><span style="color: #000000">(</span><span style="color: #001080">e</span><span style="color: #0000FF">=&gt;</span><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;出错了 =&gt; &quot;</span><span style="color: #000000">, </span><span style="color: #001080">e</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000">);</span>
<span style="color: #000000">})</span>
</code></pre>
				<a href="#es6规范中使用" id="es6规范中使用" style="color: inherit; text-decoration: none;">
					<h2>ES6规范中使用</h2>
				</a>
				<pre><code class="language-javascript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">bkUsbkeyReq</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;bk-usbkey-request-base&quot;</span><span style="color: #000000">; </span>
<span style="color: #795E26">bkUsbkeyReq</span><span style="color: #000000">([</span>
<span style="color: #000000">  {</span>
<span style="color: #000000">    </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;https://127.0.0.1:8000/api/EPSAPP_Initialize&quot;</span><span style="color: #000000">,   </span>
<span style="color: #000000">    </span><span style="color: #001080">data:</span><span style="color: #000000"> {</span>
<span style="color: #000000">      </span><span style="color: #001080">crosFlag:</span><span style="color: #000000"> </span><span style="color: #098658">1</span>
<span style="color: #000000">     },</span>
<span style="color: #000000">    </span><span style="color: #001080">nameSign:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;test1&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">    </span><span style="color: #001080">timeOut:</span><span style="color: #000000"> </span><span style="color: #098658">3000</span>
<span style="color: #000000">  }</span>
<span style="color: #000000">]).</span><span style="color: #795E26">then</span><span style="color: #000000">(</span><span style="color: #001080">data</span><span style="color: #0000FF">=&gt;</span><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #001080">data</span><span style="color: #000000">);</span>
<span style="color: #000000">}).</span><span style="color: #795E26">catch</span><span style="color: #000000">(</span><span style="color: #001080">e</span><span style="color: #0000FF">=&gt;</span><span style="color: #000000">{</span>
<span style="color: #000000">  </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;出错了 =&gt; &quot;</span><span style="color: #000000">, </span><span style="color: #001080">e</span><span style="color: #000000">.</span><span style="color: #001080">message</span><span style="color: #000000">);</span>
<span style="color: #000000">})</span>
</code></pre>
				<a href="#api简介" id="api简介" style="color: inherit; text-decoration: none;">
					<h1><div id="d3">API简介</div></h1>
				</a>
				<a href="#请求方法" id="请求方法" style="color: inherit; text-decoration: none;">
					<h2>请求方法</h2>
				</a>
				<pre><code class="language-typescript"><span style="color: #795E26">bkUsbkeyReq</span><span style="color: #000000"> (</span><span style="color: #001080">params</span><span style="color: #000000">: </span><span style="color: #001080">CrossSendData</span><span style="color: #000000"> | </span><span style="color: #267F99">Array</span><span style="color: #000000">&lt;</span><span style="color: #001080">CrossSendData</span><span style="color: #000000">&gt;, </span><span style="color: #001080">errorJudgeFun</span><span style="color: #000000">?: (</span><span style="color: #001080">jsonData</span><span style="color: #000000">: </span><span style="color: #267F99">any</span><span style="color: #000000">, </span><span style="color: #001080">strData</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">) </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> </span><span style="color: #001080">boolean</span><span style="color: #000000">): </span><span style="color: #267F99">Promise</span><span style="color: #000000">&lt;</span><span style="color: #001080">CrossResponseMap</span><span style="color: #000000">&lt;</span><span style="color: #001080">CrossResponse</span><span style="color: #000000">&gt;&gt; | </span><span style="color: #0000FF">null</span><span style="color: #000000">;</span>
</code></pre>
				<p>方法参数:
					params: 请求参数
					errorJudgeFun?: 错误判断方法, 传入usbkey响应数据，返回是否有错
					方法返回值:
					请求结果
				发起请求到usbkey本地服务, 请求参数<code>CrossSendData</code>请参考<a href="#d3_param">请求参数</a>, 返回参数<code>CrossResponse</code>请参考<a href="d3_return">返回参数</a></p>
				<a href="#请求参数" id="请求参数" style="color: inherit; text-decoration: none;">
					<h2><div id="d3_param">请求参数</div></h2>
				</a>
				<a href="#crossrequesttype" id="crossrequesttype" style="color: inherit; text-decoration: none;">
					<h3>CrossRequestType</h3>
				</a>
				<pre><code class="language-typescript"><span style="color: #008000">// 请求方式</span>
<span style="color: #0000FF">type</span><span style="color: #000000"> </span><span style="color: #267F99">CrossRequestType</span><span style="color: #000000"> = </span><span style="color: #A31515">&#039;GET&#039;</span><span style="color: #000000"> | </span><span style="color: #A31515">&#039;get&#039;</span><span style="color: #000000"> | </span><span style="color: #A31515">&#039;POST&#039;</span><span style="color: #000000"> | </span><span style="color: #A31515">&#039;post&#039;</span><span style="color: #000000">;</span>
</code></pre>
				<a href="#crosssenddata" id="crosssenddata" style="color: inherit; text-decoration: none;">
					<h3>CrossSendData</h3>
				</a>
				<pre><code class="language-typescript"><span style="color: #008000">// 请求发送数据</span>
<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">CrossSendData</span><span style="color: #000000"> {</span>
<span style="color: #000000">  </span><span style="color: #008000">// 请求地址, 必选</span>
<span style="color: #000000">  </span><span style="color: #001080">url</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">  </span><span style="color: #008000">// 方法签名, 请求响应之后，从响应结果集中根据nameSign的值进行获取对应结果, 必选</span>
<span style="color: #000000">    </span><span style="color: #001080">nameSign</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">  </span><span style="color: #008000">// 超时时间, 默认5000(5s), 配置小于或者等于0则永不超时, 可选</span>
<span style="color: #000000">  </span><span style="color: #001080">timeOut</span><span style="color: #000000">?: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">  </span><span style="color: #008000">// 请求方式, 默认为post, 可选</span>
<span style="color: #000000">  </span><span style="color: #001080">method</span><span style="color: #000000">?: </span><span style="color: #267F99">CrossRequestType</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#响应参数" id="响应参数" style="color: inherit; text-decoration: none;">
					<h2><div id="d3_return">响应参数</div></h2>
				</a>
				<a href="#crossresponsemap" id="crossresponsemap" style="color: inherit; text-decoration: none;">
					<h3>CrossResponseMap</h3>
				</a>
				<pre><code class="language-typescript"><span style="color: #008000">// 响应结果集</span>
<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">CrossResponseMap</span><span style="color: #000000">&lt;</span><span style="color: #267F99">CrossResponse</span><span style="color: #000000">&gt; {</span>
<span style="color: #000000">      </span><span style="color: #008000">// 集合长度</span>
<span style="color: #000000">    </span><span style="color: #001080">length</span><span style="color: #000000">: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">        </span><span style="color: #008000">// 集合内操作的方法签名(请求时传入的nameSign): 响应内容</span>
<span style="color: #000000">    [</span><span style="color: #001080">name</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">]: </span><span style="color: #267F99">CrossResponse</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#crossresponse" id="crossresponse" style="color: inherit; text-decoration: none;">
					<h3>CrossResponse</h3>
				</a>
				<pre><code class="language-typescript"><span style="color: #008000">// 响应结果</span>
<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">CrossResponse</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #008000">// 请求时填写的nameSign</span>
<span style="color: #000000">    </span><span style="color: #001080">name</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 响应的具体内容数据</span>
<span style="color: #000000">    </span><span style="color: #001080">data</span><span style="color: #000000">: </span><span style="color: #267F99">CrossResponseData</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#crossresponsedata" id="crossresponsedata" style="color: inherit; text-decoration: none;">
					<h3>CrossResponseData</h3>
				</a>
				<pre><code class="language-typescript"><span style="color: #008000">// 响应的具体数据</span>
<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">CrossResponseData</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #008000">// 试图将返回结果转换为一个对象, 如果转换失败，此项为 undefined</span>
<span style="color: #000000">    </span><span style="color: #001080">jsonData</span><span style="color: #000000">: </span><span style="color: #267F99">object</span><span style="color: #000000"> | </span><span style="color: #267F99">undefined</span>
<span style="color: #000000">    </span><span style="color: #008000">// 响应的原始数据</span>
<span style="color: #000000">    </span><span style="color: #001080">strData</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000"> | </span><span style="color: #267F99">undefined</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#异常" id="异常" style="color: inherit; text-decoration: none;">
					<h2>异常</h2>
				</a>
				<a href="#crossresponseerr" id="crossresponseerr" style="color: inherit; text-decoration: none;">
					<h3>CrossResponseErr</h3>
				</a>
				<pre><code class="language-typescript"><span style="color: #008000">// 当响应处理错误时的错误数据</span>
<span style="color: #0000FF">interface</span><span style="color: #000000"> </span><span style="color: #267F99">CrossResponseErr</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #008000">// 错误编码</span>
<span style="color: #000000">    </span><span style="color: #001080">code</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000"> | </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 消息</span>
<span style="color: #000000">    </span><span style="color: #001080">message</span><span style="color: #000000">: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 错误的方法签名</span>
<span style="color: #000000">    </span><span style="color: #001080">errNameSign</span><span style="color: #000000">?: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 错误的Json数据</span>
<span style="color: #000000">    </span><span style="color: #001080">jsonData</span><span style="color: #000000">?: </span><span style="color: #267F99">any</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 错误的strData</span>
<span style="color: #000000">    </span><span style="color: #001080">strData</span><span style="color: #000000">?: </span><span style="color: #267F99">any</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 成功的条数</span>
<span style="color: #000000">    </span><span style="color: #001080">successLength</span><span style="color: #000000">?: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 总共操作的条数</span>
<span style="color: #000000">    </span><span style="color: #001080">totalOperateLength</span><span style="color: #000000">?: </span><span style="color: #267F99">number</span><span style="color: #000000">;</span>
<span style="color: #000000">    </span><span style="color: #008000">// 错误消息</span>
<span style="color: #000000">    </span><span style="color: #001080">msg</span><span style="color: #000000">?: </span><span style="color: #267F99">string</span><span style="color: #000000">;</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#使用技巧" id="使用技巧" style="color: inherit; text-decoration: none;">
					<h1><div id="d4">使用技巧</div></h1>
				</a>
				<a href="#使用asyncawait" id="使用asyncawait" style="color: inherit; text-decoration: none;">
					<h2>使用async/await</h2>
				</a>
				<pre><code class="language-typescript"><span style="color: #AF00DB">import</span><span style="color: #000000"> </span><span style="color: #001080">bkUsbkeyReq</span><span style="color: #000000"> </span><span style="color: #AF00DB">from</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;bk-usbkey-request-base&quot;</span><span style="color: #000000">; </span>
<span style="color: #0000FF">async</span><span style="color: #000000"> </span><span style="color: #0000FF">function</span><span style="color: #000000"> </span><span style="color: #795E26">test</span><span style="color: #000000">(){</span>
<span style="color: #000000">  </span><span style="color: #AF00DB">try</span><span style="color: #000000"> {</span>
<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">getCertResult</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #795E26">bkUsbkeyReq</span><span style="color: #000000">({</span>
<span style="color: #000000">      </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;http://127.0.0.1/test/getCert&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">      </span><span style="color: #001080">nameSign:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;getCert&quot;</span>
<span style="color: #000000">    })</span>

<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">certInfo</span><span style="color: #000000"> = </span><span style="color: #001080">getCertResult</span><span style="color: #000000">[</span><span style="color: #A31515">&quot;getCert&quot;</span><span style="color: #000000">].</span><span style="color: #001080">data</span><span style="color: #000000">.</span><span style="color: #001080">jsonData</span><span style="color: #000000">.</span><span style="color: #001080">result</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">certInfoResult</span><span style="color: #000000"> = </span><span style="color: #AF00DB">await</span><span style="color: #000000"> </span><span style="color: #795E26">bkUsbkeyReq</span><span style="color: #000000">([</span>
<span style="color: #000000">      {</span>
<span style="color: #000000">        </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;http://127.0.0.1/test/getCertInfoByNo&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">nameSign:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;certNo&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">data:</span><span style="color: #000000"> {</span>
<span style="color: #000000">          </span><span style="color: #001080">certNo:</span><span style="color: #000000"> </span><span style="color: #098658">1</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">      },</span>
<span style="color: #000000">      {</span>
<span style="color: #000000">        </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;http://127.0.0.1/test/getCertInfoByNo&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">nameSign:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;certStartTime&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">data:</span><span style="color: #000000"> {</span>
<span style="color: #000000">          </span><span style="color: #001080">certNo:</span><span style="color: #000000"> </span><span style="color: #098658">21</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">      },</span>
<span style="color: #000000">      {</span>
<span style="color: #000000">        </span><span style="color: #001080">url:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;http://127.0.0.1/test/getCertInfoByNo&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">nameSign:</span><span style="color: #000000"> </span><span style="color: #A31515">&quot;certEndTime&quot;</span><span style="color: #000000">,</span>
<span style="color: #000000">        </span><span style="color: #001080">data:</span><span style="color: #000000"> {</span>
<span style="color: #000000">          </span><span style="color: #001080">certNo:</span><span style="color: #000000"> </span><span style="color: #098658">22</span>
<span style="color: #000000">        }</span>
<span style="color: #000000">      },</span>
<span style="color: #000000">    ])</span>

<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">certNo</span><span style="color: #000000"> = </span><span style="color: #001080">certInfoResult</span><span style="color: #000000">[</span><span style="color: #A31515">&quot;certNo&quot;</span><span style="color: #000000">].</span><span style="color: #001080">data</span><span style="color: #000000">.</span><span style="color: #001080">jsonData</span><span style="color: #000000">.</span><span style="color: #001080">result</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">certStartTime</span><span style="color: #000000"> = </span><span style="color: #001080">certInfoResult</span><span style="color: #000000">[</span><span style="color: #A31515">&quot;certStartTime&quot;</span><span style="color: #000000">].</span><span style="color: #001080">data</span><span style="color: #000000">.</span><span style="color: #001080">jsonData</span><span style="color: #000000">.</span><span style="color: #001080">result</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #0000FF">const</span><span style="color: #000000"> </span><span style="color: #0070C1">certEndTime</span><span style="color: #000000"> = </span><span style="color: #001080">certInfoResult</span><span style="color: #000000">[</span><span style="color: #A31515">&quot;certEndTime&quot;</span><span style="color: #000000">].</span><span style="color: #001080">data</span><span style="color: #000000">.</span><span style="color: #001080">jsonData</span><span style="color: #000000">.</span><span style="color: #001080">result</span><span style="color: #000000">;</span>

<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;证书数据 =&gt; &quot;</span><span style="color: #000000">, </span><span style="color: #001080">certInfo</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;证书序列号 =&gt; &quot;</span><span style="color: #000000">, </span><span style="color: #001080">certNo</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;证书有效期，开始时间 =&gt; &quot;</span><span style="color: #000000">, </span><span style="color: #001080">certStartTime</span><span style="color: #000000">);</span>
<span style="color: #000000">    </span><span style="color: #001080">console</span><span style="color: #000000">.</span><span style="color: #795E26">log</span><span style="color: #000000">(</span><span style="color: #A31515">&quot;证书有效期，结束时间 =&gt; &quot;</span><span style="color: #000000">, </span><span style="color: #001080">certEndTime</span><span style="color: #000000">);</span>
<span style="color: #000000">  } </span><span style="color: #AF00DB">catch</span><span style="color: #000000">(</span><span style="color: #001080">e</span><span style="color: #000000">) {}</span>
<span style="color: #000000">}</span>
</code></pre>
				<a href="#其他" id="其他" style="color: inherit; text-decoration: none;">
					<h1><div id="#d5">其他</div></h1>
				</a>
				<p><a href="https://sulinxin66.github.io/bk-usbkey-request-base-base/">API文档</a></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class=" ">
						<a href="modules.html">Exports</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/core_domextends.html">core/dom<wbr>Extends</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/core_domutils.html">core/dom<wbr>Utils</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/core_error_crossformresponseerror.html">core/error/<wbr>Cross<wbr>Form<wbr>Response<wbr>Error</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/core_error_utils.html">core/error/utils</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/index.html">index</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/types.html">types</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>